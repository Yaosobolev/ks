<HTML>

<HEAD>

	<TITLE>Глава 2.Стандартизация обмена данными компьютеров в сети. Модель OSI и стек TCP/IP</TITLE>
     <link rel="stylesheet" type="text/css" href="../css/style.css">
</HEAD>

<BODY>

	<p class="main-title">2 Стандартизация обмена данными компьютеров в сети. Модель OSI и стек TCP/IP</p>
    <a name="ch1"></a>
	<p class="title">2.1 Взаимодействие клиентов и серверов</p>

	<p>Ежедневно пользователи используют сетевые службы и сеть Интернет для обмена данными и выполнения типичных задач обработки информации. Редко пользователи задумываются над тем, что прием электронной почты, ввод информации в блог (веб-страница, содержащая личный дневник автора, доступный для прочтения всеми) или совершение покупок через электронные магазины возможны благодаря работе серверов, клиентских программ и сетевых устройств. В большинстве наиболее популярных интернет-приложений происходят сложные взаимодействия между различными серверами и клиентами.</p>
	<p>Под термином “сервер” понимается узловая машина, на которой выполняется прикладное программное обеспечение, предоставляющее информацию или службы для других узлов, подключенных к сети. Типичным примером такой прикладной программы является веб-сервер. К сети Интернет подключены миллионы серверов, предоставляющих такие услуги, как веб-службы, электронная почта, финансовые операции, загрузка музыкальных файлов и т.п. Для обеспечения надежного функционирования всех этих сложных взаимодействий необходимо правильно подобрать необходимые стандарты связи и протоколы.</p>

	<center><img src="./img/chapter2/2.1.jpg"></center>
	<p class="img">Рисунок 2.1 &ndash; Работа клиента с множеством серверов</p>

	<p>Для передачи запроса веб-странице и ее просмотра пользователь обращается к устройству, на котором запущено программное обеспечение веб-клиента. Под термином “клиент” понимается имя, присвоенное прикладной программе, которая используется для получения доступа к информации, хранящейся на сервере. Типичным примером клиентского приложения является веб-обозреватель.</p>

	<center><img src="./img/chapter2/2.2.jpg"></center>
	<p class="img">Рисунок 2.2 &ndash; Взаимодействие между веб-клиентом и веб-сервером. Часть 1</p>
	<center><img src="./img/chapter2/2.3.jpg"></center>
	<p class="img">Рисунок 2.3 &ndash; Взаимодействие между веб-клиентом и веб-сервером. Часть 2</p>
	<center><img src="./img/chapter2/2.4.jpg"></center>
	<p class="img">Рисунок 2.4 &ndash; Взаимодействие между веб-клиентом и веб-сервером. Часть 3</p>
	<center><img src="./img/chapter2/2.5.jpg"></center>
	<p class="img">Рисунок 2.5 &ndash; Взаимодействие между веб-клиентом и веб-сервером. Часть 4</p>
	<center><img src="./img/chapter2/2.6.jpg"></center>
	<p class="img">Рисунок 2.6 &ndash; Взаимодействие между веб-клиентом и веб-сервером. Часть 5</p>
	<center><img src="./img/chapter2/2.7.jpg"></center>
	<p class="img">Рисунок 2.7 &ndash; Взаимодействие между веб-клиентом и веб-сервером. Часть 6</p>
	<center><img src="./img/chapter2/2.8.jpg"></center>
	<p class="img">Рисунок 2.8 &ndash; Взаимодействие между веб-клиентом и веб-сервером. Часть 7</p>
	<center><img src="./img/chapter2/2.9.jpg"></center>
	<p class="img">Рисунок 2.9 &ndash; Взаимодействие между веб-клиентом и веб-сервером. Часть 8</p>


	<p>Главной особенностью клиент-серверных систем является отправка клиентом запроса на сервер, который, отвечая на запрос, выполняет ту или иную функцию, например, передачу клиенту запрашиваемой информации. Типичным примером клиент-серверной системы является комплекс веб-обозревателя и веб-сервера.</p>
	<p>Существуют следующие сервера:</p>
	<ul type="square">
		<li>Сервер DNS.</li>
		<li>Сервер Telnet.</li>
		<li>Сервер электронной почты.</li>
		<li>Сервер DHCP.</li>
		<li>Веб-сервер.</li>
		<li>Сервер FTP.</li>
	</ul>

	<center><img src="./img/chapter2/2.10.jpg"></center>
	<p class="img">Рисунок 2.10 &ndash; Сервера и сервисы</p>

	<p>Сервера оказывают следующие сервисы:</p>
	<p>1 Сервер DNS:</p>
	<ul type="square">
		<li>служба, предоставляющая IP-адрес веб-узла или доменное имя, чтобы другие узлы могли к ним подключаться.</li>
	</ul>
	<p>2 Сервер Telnet:</p>
	<ul type="square">
		<li>служба, позволяющая администраторам входить в систему узла из удаленной точки и управлять узлов так, как если бы они вошли в систему локально.</li>
	</ul>
	<p>3 Сервер электронной почты:</p>
	<ul type="square">
		<li>использует протокол SMTP, POP3 или IMAP;</li>
		<li>используются для передачи сообщений электронной почты от клиентов к серверам через Интернет;</li>
		<li>для указания получателей используется формат user@xyz.</li>
	</ul>
	<p>4 Сервер DHCP:</p>
	<ul type="square">
		<li>служба, назначающая клиентам IP-адреса, маску подсети, основной шлюз и другие данные.</li>
	</ul>
	<p>5 Веб-сервер:</p>
	<ul type="square">
		<li>протокол HTTP;</li>
		<li>используется для передачи информации между клиентами и веб-серверами;</li>
		<li>протокол HTTP используется для доступа к большинству веб-страниц.</li>
	</ul>
	<p>6 Сервер FTP:</p>
	<ul type="square">
		<li>служба, позволяющая обмениваться файлами между клиентом и сервером.</li>
	</ul>

	<center><img src="./img/chapter2/2.11.jpg"></center>
	<p class="img">Рисунок 2.11 &ndash; Сервера и сервисы. Сервер DNS</p>
	<center><img src="./img/chapter2/2.12.jpg"></center>
	<p class="img">Рисунок 2.12 &ndash; Сервера и сервисы. Сервер Telnet</p>
	<center><img src="./img/chapter2/2.13.jpg"></center>
	<p class="img">Рисунок 2.13 &ndash; Сервера и сервисы. Сервер электронной почты</p>
	<center><img src="./img/chapter2/2.14.jpg"></center>
	<p class="img">Рисунок 2.14 &ndash; Сервера и сервисы. Сервер DHCP</p>
	<center><img src="./img/chapter2/2.15.jpg"></center>
	<p class="img">Рисунок 2.15 &ndash; Сервера и сервисы. Веб-сервер</p>
	<center><img src="./img/chapter2/2.16.jpg"></center>
	<p class="img">Рисунок 2.16 &ndash; Сервера и сервисы. Сервер FTP</p>


    <a name="ch1.2"></a>
	<p class="title">2.1.2 Протоколы, используемые при взаимодействии клиентов и серверов</p>

	<p>В процессе обмена информацией веб-сервер и веб-клиент используют специальные протоколы и стандарты, гарантирующие прием и прочтение информации. К этим протоколам относятся следующие: протоколы прикладного уровня, транспортные протоколы, протоколы межсетевого взаимодействия и сетевого доступа.</p>
	<p>1. Протокол прикладного уровня. Протокол передачи гипертекста (HTTP) (способ передачи или доставки информации во Всемирной паутине) управляет взаимодействием между веб-сервером и веб-клиентом. Протокол HTTP задает формат запросов и ответов на запросы, пересылаемых между клиентом и сервером. Для управления процессом передачи сообщений между клиентом и сервером HTTP обращается к другим протоколам.</p>
	<p>2. Транспортный протокол. Протокол управления передачей (TCP) (протокол управления передачей. Основной протокол для доставки данных в Интернете. TCP предусматривает сквозное установление соединения, обнаружение и исправление ошибок и измерение скорости передачи данных по сети. На базе TCP основаны многие стандартные приложения: электронная почта, обозреватели, ПО для передачи файлов и Telnet) – это транспортный протокол, управляющий отдельными сеансами связи между веб-серверами и веб-клиентами. Протокол TCP делит гипертекстовые сообщения (HTTP) на сегменты и отправляет их на узел назначения. Он также осуществляет управление потоками данных и подтверждает обмен пакетами между узлами.</p>
	<p>3. Протокол межсетевого взаимодействия. Из протоколов межсетевого взаимодействия чаще всего применяется межсетевой протокол (IP). IP-протокол отвечает за прием форматированных сегментов от TCP, присвоение им локальных адресов, их инкапсуляцию в пакеты для маршрутизации на узел назначения.</p>

	<center><img src="./img/chapter2/2.17.jpg"></center>
	<p class="img">Рисунок 2.17 &ndash; Протоколы, используемые при взаимодействии веб-сервера и веб-клиента</p>

	<p>4. Протоколы сетевого доступа. В локальных сетях чаще всего применяется протокол Ethernet. Протоколы сетевого доступа выполняют две основных функции – управление каналами передачи данных и физическую передачу данных по сети.</p>
	<p>Протоколы управления каналами передачи данных принимают пакеты от IP-протокола, инкапсулируют их в соответствующий формат кадров локальной сети. Эти протоколы отвечают за назначение физических адресов кадрам данных и их подготовку к передаче по сети.</p>
	<p>Стандарты и протоколы физической передачи данных отвечают за представление битов в среде передачи, выбор способа передачи сигналов и их преобразование на принимающем узле. Сетевые интерфейсные платы поддерживают соответствующие протоколы среды передачи данных.</p>

	<center><img src="./img/chapter2/2.18.jpg"></center>
	<p class="img">Рисунок 2.18 &ndash; Сетевой доступ</p>

    <a name="ch1.3"></a>
	<p class="title">2.1.3 Транспортные протоколы TCP и UDP</p>

	<p>Каждая служба, доступная по сети, имеет собственные протоколы прикладного уровня, поддерживаемые программным обеспечением сервера и клиента. Помимо протоколов прикладного уровня во всех общих Интернет-службах используется межсетевой протокол (Internet Protocol, IP), отвечающий за адресацию и маршрутизацию сообщений между узлами источника и назначения.</p>
	<p>IP-протокол отвечает только за структуру, адресацию и маршрутизацию пакетов. IP не определяет способ доставки или транспортировки пакетов. Транспортные протоколы предписывают способ передачи сообщений между узлами. Наиболее популярными из транспортных протоколов являются протокол управления передачей (TCP) и протокол пользовательских датаграмм (UDP). IP-протокол использует эти транспортные протоколы для обеспечения связи и передачи данных между узлами.</p>

	<center><img src="./img/chapter2/2.19.jpg"></center>
	<p class="img">Рисунок 2.19 &ndash; Взаимосвязь транспортных протоколов с протоколами других уровней</p>

	<p>Если приложению требуется подтверждение доставки сообщения, оно использует протокол TCP. Это аналогично процессу отправки заказного письма в обычной почтовой системе, когда для подтверждения получения письма получатель ставит свою подпись на квитанции.</p>
	<p>TCP разбивает сообщение на фрагменты меньшего размера, именуемые сегментами. Эти сегменты последовательно нумеруются и передаются IP-протоколу, который затем осуществляет сборку пакетов. TCP отслеживает количество сегментов, отправленных на тот или иной узел тем или иным приложением. Если отправитель не получает подтверждения в течение определенного периода времени, то TCP рассматривает эти сегменты как потерянные и повторяет их отправку. Повторно отправляется только потерянная часть сообщения, а не все сообщение целиком.</p>
	<p>Протокол TCP на принимающем узле отвечает за повторную сборку сегментов сообщений и их передачу соответствующему приложению.</p>
	<p>FTP (протокол передачи файлов. Протокол прикладного уровня, входящий в состав стека протоколов TCP/IP. Используется для передачи файлов между сетевыми устройствами) и HTTP – это примеры приложений, в которых для обеспечения доставки данных применяется протокол TCP.</p>

	<center><img src="./img/chapter2/2.20.jpg"></center>
	<p class="img">Рисунок 2.20 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 1</p>
	<center><img src="./img/chapter2/2.21.jpg"></center>
	<p class="img">Рисунок 2.21 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 2</p>
	<center><img src="./img/chapter2/2.22.jpg"></center>
	<p class="img">Рисунок 2.22 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 3</p>
	<center><img src="./img/chapter2/2.23.jpg"></center>
	<p class="img">Рисунок 2.23 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 4</p>
	<center><img src="./img/chapter2/2.24.jpg"></center>
	<p class="img">Рисунок 2.24 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 5</p>
	<center><img src="./img/chapter2/2.25.jpg"></center>
	<p class="img">Рисунок 2.25 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 6</p>
	<center><img src="./img/chapter2/2.26.jpg"></center>
	<p class="img">Рисунок 2.26 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 7</p>
	<center><img src="./img/chapter2/2.27.jpg"></center>
	<p class="img">Рисунок 2.27 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 8</p>
	<center><img src="./img/chapter2/2.28.jpg"></center>
	<p class="img">Рисунок 2.28 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 9</p>
	<center><img src="./img/chapter2/2.29.jpg"></center>
	<p class="img">Рисунок 2.29 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 10</p>
	<center><img src="./img/chapter2/2.30.jpg"></center>
	<p class="img">Рисунок 2.30 &ndash; Взаимодействие между FTP-клиентом и FTP-сервером. Часть 11</p>


	<p>В некоторых случаях протокол подтверждения доставки (TCP) не требуется, так как это замедляет скорость передачи данных. В таких случаях более приемлемым из транспортных протоколов является UDP.</p>
	<p>Протокол UDP выполняет негарантированную доставку данных и не запрашивает подтверждения от получателя. Это аналогично отправке письма обычной почтой без уведомления о доставке. Доставка письма не гарантируется, но шансы его доставки достаточно высоки.</p>
	<p>Протокол UDP более предпочтителен для передачи потокового аудио, видео и голосовой связи на основе протокола IP (VoIP) (голосовая связь на основе протокола IP. Технология голосовой связи в Интернете). Подтверждение доставки лишь замедлит процесс передачи данных, и при этом повторная доставка нежелательна.</p>
	<p>Примером использования протокола UDP является интернет-радио. Если какое-либо сообщение затерялось в пути доставки по сети, оно не будет отправляться повторно. Пропадание нескольких пакетов будет восприниматься слушателем как кратковременное пропадание звука. Если для этого использовать протокол TCP, предусматривающий повторную доставку потерянных пакетов, то процесс передачи данных приостановится для приема потерянных пакетов, что заметно ухудшит качество воспроизведения [3].</p>

    <a name="ch1.4"></a>
	<p class="title">2.1.4 Номера портов TCP/IP</p>

	<p>При доставке сообщения по протоколу TCP или UDP запрашиваемые протоколы и службы распознаются по номеру порта. Порт – это числовой идентификатор внутри каждого сегмента (в компьютерных сетях – участок сети, границей которого является устройство: повторитель, мост или маршрутизатор. В модели OSI – блок данных протокола (PDU) на транспортном уровне), используемый для учета отдельных сеансов связи запросов услуг узлами назначения. В каждом сообщении, отправляемом с узла, указываются порт источника и порт назначения.</p>
	<ol>
		<li>Порт назначения. Клиент указывает номер порта назначения в сегменте, что сообщить серверу назначения, какая запрашивается служба. Например, порт 80 обозначает протокол HTTP или веб-службы. Если клиент в описании для порта назначения указывает порт 80, то сервер, принимающий это сообщение, уже “знает”, что выполнен запрос веб-службы. Сервер может предоставлять несколько служб одновременно. Например, сервер может предоставлять веб-службы через порт 80 и одновременно услуги обмена файлами по протоколу FTP через порт 21.</li>
		<li>Порт источника. Номер порта источника генерируется случайно устройством-отправителем для идентификации сеанса связи между двумя устройствами. Это позволяет устанавливать одновременно несколько сеансов связи. Другими словами, запросы службы HTTP с веб-сервера могут направляться несколькими устройствами одновременно. Отдельные сеансы связи отслеживаются по номерам портов источника.</li>
	</ol>
	<p>Номера порта источника и порта назначения записываются в сегмент. Затем эти сегменты инкапсулируются в пакете IP. В пакете IP записывается IP-адрес источника и назначения. Комбинация IP-адресов источника и назначения, а также номеров портов источника и назначения называется сокетом. Сокет используется для определения сервера и служб, запрашиваемых клиентом. Ежедневно тысячи узлов взаимодействуют с тысячами различных серверов. Их взаимодействия определяются с помощью сокетов.</p>

	<center><img src="./img/chapter2/2.31.jpg"></center>
	<p class="img">Рисунок 2.31 &ndash; Номера портов TCP/IP</p>

    <a name="ch2"></a>
	<p class="title">2.2 Прикладные протоколы и службы</p>
    <a name="ch2.1"></a>
	<p class="title">2.2.1 Служба доменных имен (DNS)</p>

	<p>Ежедневно для получения доступа к услугам, доступным по сети Интернет, мы обращаемся к тысячам серверов, расположенных в различных географических точках. Каждому из этих серверов присваивается уникальный IP-адрес, по которому он идентифицируется в подключенной локальной сети.</p>
	<p>Было бы невозможно запомнить все IP-адреса всех серверов, предоставляющих различные услуги по сети Интернет. Вместо этого предлагается более простой способ поиска серверов – сопоставить имя с некоторым IP-адресом.</p>
	<p>Служба доменных имен (DNS) (система, преобразующая имена узлов из удобной формы URL в IP-адреса) позволяет использовать имя узла для запроса IP-адреса отдельного сервера. Регистрация и организация имен в этой системе выполняется по специальным высокоуровневым группам, именуемым доменами. К числу наиболее популярных высокоуровневых доменов сети Интернет относятся .com, .edu и .net.</p>

	<center><img src="./img/chapter2/2.32.jpg"></center>
	<p class="img">Рисунок 2.32 &ndash; Использование службы доменных имен</p>

	<p>В DNS-сервере записана специальная таблица, ассоциирующая имена узлов в домене с соответствующим IP-адресом. Если клиент знает имя сервера, например, веб-сервера, но требуется найти IP-адрес, он направляет запрос на этот DNS-сервер через порт 53. Клиент использует этот IP-адрес DNS-сервера, прописанного в настройках DNS раздела конфигурации IP этого узла.</p>
	<p>При получении запроса DNS-сервер выясняет по своей таблице, имеется ли соответствие между запрашиваемым IP-адресом и веб-сервером. Если на DNS-сервере отсутствует запись о запрашиваемом имени, он опрашивает другой DNS-сервер в пределах своего домена. После распознавания IP-адреса DNS-сервер отправляет результат обратно к клиенту. Если DNS-серверу не удалось определить IP-адрес, клиент не сможет установить связь с этим веб-сервером и получит сообщение об истечении времени ожидания.</p>
	<p>Процесс определения IP-адреса по DNS-протоколу из клиентского программного обеспечения достаточно прост и прозрачен для пользователя.</p>

	<center><img src="./img/chapter2/2.33.jpg"></center>
	<p class="img">Рисунок 2.33 &ndash; Взаимодействие между DNS-клиентом и DNS-сервером. Часть 1</p>
	<center><img src="./img/chapter2/2.34.jpg"></center>
	<p class="img">Рисунок 2.34 &ndash; Взаимодействие между DNS-клиентом и DNS-сервером. Часть 2</p>
	<center><img src="./img/chapter2/2.35.jpg"></center>
	<p class="img">Рисунок 2.35 &ndash; Взаимодействие между DNS-клиентом и DNS-сервером. Часть 3</p>
	<center><img src="./img/chapter2/2.36.jpg"></center>
	<p class="img">Рисунок 2.36 &ndash; Взаимодействие между DNS-клиентом и DNS-сервером. Часть 4</p>
	<center><img src="./img/chapter2/2.37.jpg"></center>
	<p class="img">Рисунок 2.37 &ndash; Взаимодействие между DNS-клиентом и DNS-сервером. Часть 5</p>
	<center><img src="./img/chapter2/2.38.jpg"></center>
	<p class="img">Рисунок 2.38 &ndash; Взаимодействие между DNS-клиентом и DNS-сервером. Часть 6</p>
	<center><img src="./img/chapter2/2.39.jpg"></center>
	<p class="img">Рисунок 2.39 &ndash; Взаимодействие между DNS-клиентом и DNS-сервером. Часть 7</p>

    <a name="ch2.2"></a>
	<p class="title">2.2.2 Веб-клиенты и серверы</p>

	<p>После получения IP-адреса веб-сервера веб-клиентом обозреватель на стороне клиента инициирует запрос веб-служб по этому IP-адресу и направит его через порт 80. Этот запрос отправляется на сервер по протоколу передачи гипертекстовых файлов (HTTP).</p>
	<p>После приема запроса на порт 80 сервер отвечает на клиентский запрос и отправляет клиенту запрашиваемую веб-страницу. Информационное наполнение веб-страницы кодируется с помощью специализированных языков разметки. HTML (язык гипертекстовой разметки. Способ кодирования документов для Всемирной паутины) является наиболее популярным, но сегодня все более популярными становятся такие языки, как XML и XHTML.</p>
	<p>Протокол HTTP не является безопасным; информация может быть легко перехвачена при передаче по сети. Для обеспечения безопасности данных возможны комбинации протокола HTTP с безопасными транспортными протоколами. Запросы по безопасному протоколу HTTP направляются на порт 443. В таких запросах должен использоваться префикс https:, а не http:.</p>
	<p>На рынке предлагается множество различных веб-серверов и веб-клиентов. Сочетание протокола HTTP и HTML обеспечивает эффективное взаимодействие серверов и клиентов от различных поставщиков.</p>

	<center><img src="./img/chapter2/2.40.jpg"></center>
	<p class="img">Рисунок 2.40 &ndash; Клиентский запрос веб-страницы. Часть 1</p>
	<center><img src="./img/chapter2/2.41.jpg"></center>
	<p class="img">Рисунок 2.41 &ndash; Клиентский запрос веб-страницы. Часть 2</p>
	<center><img src="./img/chapter2/2.42.jpg"></center>
	<p class="img">Рисунок 2.42 &ndash; Клиентский запрос веб-страницы. Часть 3</p>
	<center><img src="./img/chapter2/2.43.jpg"></center>
	<p class="img">Рисунок 2.43 &ndash; Клиентский запрос веб-страницы. Часть 4</p>
	<center><img src="./img/chapter2/2.44.jpg"></center>
	<p class="img">Рисунок 2.44 &ndash; Клиентский запрос веб-страницы. Часть 5</p>
	<center><img src="./img/chapter2/2.45.jpg"></center>
	<p class="img">Рисунок 2.45 &ndash; Клиентский запрос веб-страницы. Часть 6</p>
	<center><img src="./img/chapter2/2.46.jpg"></center>
	<p class="img">Рисунок 2.46 &ndash; Клиентский запрос веб-страницы. Часть 7</p>

    <a name="ch2.3"></a>
	<p class="title">2.2.3 FTP-клиенты и серверы</p>

	<p>Помимо веб-служб в сети Интернет широко применяется еще один протокол обмена файлами между пользователями.</p>
	<p>Протокол передачи файлов (FTP) обеспечивает простой обмен файлами между компьютерами. Узел, на котором выполняется программное обеспечение FTP-клиента, обращается к FTP-серверу, который выполняет различные функции управления файлами, в том числе выгрузка и загрузка файлов.</p>
	<p>FTP-сервер обеспечивает обмен файлами между клиентом и устройствами. С помощью FTP-сервера клиент может также управлять файлами удаленно, например, с помощью команд удаления или переименования файлов. Для этого служба FTP использует два порта обмена данными между клиентом и сервером.</p>
	<p>Запросы на запуск сеанса FTP передаются на сервер через порт назначения 21. После открытия сеанса связи сервер переключится на порт 20, через который выполняется передача файлов данных.</p>
	<p>Программное обеспечение FTP-клиента встроено в операционную систему компьютера, а также в большинство веб-обозревателей. В автономных FTP-клиентах предусмотрен целый ряд удобных функций управления через графический интерфейс [3].</p>

	<center><img src="./img/chapter2/2.47.jpg"></center>
	<p class="img">Рисунок 2.47 &ndash; Доступ к файлам по протоколу FTP</p>

    <a name="ch2.4"></a>
	<p class="title">2.2.4 Клиенты и серверы электронной почты</p>

	<p>Электронная почта - одно из наиболее популярных клиент-серверных приложений в сети Интернет. Серверное программное обеспечение, работающее на серверах электронной почты, обеспечивает взаимодействие с другими серверами электронной почты в сети.</p>
	<p>Каждый сервер электронной почты отвечает за прием и хранение почты пользователей в индивидуальных почтовых ящиках, созданных на сервере электронной почты. Чтобы обратиться к своему почтовому ящику на сервере электронной почты и прочитать сообщения, пользователь должен использовать программу клиента электронной почты.</p>
	<p>Серверы электронной почты также используются для отправки почты, адресованной на локальные почтовые ящики или на почтовые ящики, расположенные на других серверах электронной почты.</p>
	<p>Принят следующий формат почтовых ящиков: user@company.domain.</p>
	<p>Для обработки почты применяются различные протоколы прикладного уровня, в том числе SMTP (простой протокол передачи почты – Simple Mail Transfer Protocol. Обязательный элемент конфигурации, позволяющий передавать электронную почту по Интернету), POP3 (протокол почтового ящика версии 3. Интернет-стандарт прикладного уровня, позволяющий локальному клиенту получать электронную почту с удаленного сервера по TCP-соединению), IMAP4.</p>

	<center><img src="./img/chapter2/2.48.jpg"></center>
	<p class="img">Рисунок 2.48 &ndash; Клиент электронной почты</p>

	<p>Далее рассмотрены функции каждого из почтовых протоколов.</p>
	<p>1. Простой протокол передачи почты (SMTP). Протокол SMTP используется программой клиента электронной почты для отправки сообщений на локальный сервер электронной почты. Далее локальный сервер определяет, кому адресовано сообщение - локальному почтовому ящику или почтовому ящику на другом сервере. </p>
	<p>Протокол SMTP применяется при взаимодействии с разными серверами, например, если требуется отправка сообщения на другие серверы. SMTP-запросы направляются на порт 25.</p>
	<p>2. Post Office Protocol (POP3) (стандартный протокол для получения доступа к сообщениям электронной почты на сервере. Этот протокол часто обозначается аббревиатурой POP). POP-сервер принимает и хранит сообщения для своих пользователей. После того, как установлено соединение между клиентом и сервером электронной почты, сообщения будут загружены на компьютер клиента. По умолчанию сообщения не сохраняются на сервере после их прочтения клиентом. Клиенты обращаются к серверам POP3 через порт 110.</p>
	<p>3. Протокол IMAP4. IMAP-сервер также принимает и сохраняет сообщения, адресованные его пользователям. Тем не менее, сообщения могут храниться в почтовых ящиках пользователей, если они не будут явно удалены самими пользователями. В самой последней версии протокола IMAP - IMAP4 запросы от клиентов прослушиваются через порт 143.</p>
	<p>На разных платформах сетевых операционных систем используются различные серверы электронной почты.</p>

	<center><img src="./img/chapter2/2.49.jpg"></center>
	<p class="img">Рисунок 2.49 &ndash; Протоколы электронной почты</p>

	<p>После установления соединения между клиентом и сервером электронной почты начинается загрузка и просмотр сообщений. Большинство клиентов электронной почты настроены либо на POP3, либо на IMAP4 в зависимости от типа сервера электронной почты, на котором зарегистрирован почтовый ящик. Клиенты электронной почты также должны отправлять электронную почту на сервер по протоколу SMTP.</p>
	<p>Серверы электронной почты настраиваются на обработку входящей и исходящей почты.</p>
	<p>Типичные настройки клиента электронной почты:</p>
	<ul type="square">
		<li>Имя сервера POP3 или IMAP4.</li>
		<li>Имя сервера SMTP.</li>
		<li>Имя пользователя.</li>
		<li>Пароль пользователя.</li>
		<li>Фильтры нежелательной почты.</li>
	</ul>

	<p>На изображении показаны основные этапы настройки протоколов POP3 и SMTP в приложении для обработки электронной почты Microsoft Outlook (программа для управления информацией в пакете Microsof Office. Объединяет в себе приложения электронной почты, календаря, управления задачами и контактами, ведения заметок и журнала).</p>

	<center><img src="./img/chapter2/2.50.jpg"></center>
	<p class="img">Рисунок 2.50 &ndash; Основные этапы настройки протоколов POP3 и SMTP в приложении Microsoft Outlook</p>

    <a name="ch2.5"></a>
	<p class="title">2.2.5 Клиенты и серверы мгновенного обмена сообщениями</p>

	<p>Мгновенный обмен сообщениями (Instant Messaging, IM) - это на сегодня один из наиболее популярных инструментов обмена информацией. Программное обеспечение мгновенного обмена сообщениями (IM), выполняемое на локальных компьютерах, обеспечивает взаимодействие пользователей в окнах передачи сообщений или в чат-сеансах по сети Интернет в реальном времени. На рынке сегодня предлагается множество программ мгновенного обмена сообщениями от различных компаний-разработчиков. В каждой службе мгновенного обмена сообщениями могут использоваться специальные протоколы и порты назначения, поэтому на двух разных узлах должно быть установлено совместимое программное обеспечение.</p>
	<p>Для работы приложений мгновенного обмена сообщениями достаточна минимальная конфигурация. После загрузки клиентского приложения достаточно ввести имя пользователя и пароль. Эта операция необходима для проверки подлинности клиента IM на входе в сеть мгновенного обмена сообщениями. После выполнения входа на сервер клиенты могут отправлять сообщения другим клиентам в реальном времени. Помимо текстовых сообщений IM-клиент поддерживает передачу видео, музыкальных файлов и файлов голосовой связи. В IM-клиентах поддерживается функция телефона, что позволяет пользователям устанавливать телефонные вызовы по сети Интернет. Имеются дополнительные возможности настройки “Списка контактов”, а также персональных стилей оформления.</p>
	<p>Программное обеспечение IM-клиентов можно загружать и использовать на всех типах устройств, в том числе: компьютерах, PDA и сотовых телефонах.</p>

	<center><img src="./img/chapter2/2.51.jpg"></center>
	<p class="img">Рисунок 2.51 &ndash; Обмен мгновенными сообщениями</p>

    <a name="ch2.6"></a>
	<p class="title">2.2.6 Клиенты и серверы голосовой связи</p>

	<p>Сегодня все более популярными становятся телефонные вызовы по сети Интернет. В клиентских приложениях Интернет-телефонии реализована технология обмена данными между равноправными уровнями (peer-to-peer technology), что аналогично технологии мгновенного обмена сообщениями. В IP-телефонии применяется технология VoIP, в которой IP-пакеты используются для передачи оцифрованной речи в виде данных.</p>
	<p>Чтобы начать работу с Интернет-телефоном, загрузите клиентское программное обеспечение с узла одной из компаний, предлагающих эту услугу. Ставки за пользование услугами Интернет-телефонии меняются в зависимости от региона и поставщика.</p>
	<p>После установки программного обеспечения пользователь должен выбрать уникальное имя. Это необходимо для приема вызовов от других пользователей. Необходимы также динамики и микрофон, встроенные или внешние. В качестве телефона часто используется гарнитура, подключаемая к компьютеру.</p>
	<p>Вызовы устанавливаются с другими пользователями, использующими ту же услугу, путем выбора имен из списка. Для установления вызова на обычный телефон (наземной линии или сотовый телефон) требуется шлюз для доступа к коммутируемой телефонной сети общего пользования (PSTN) (коммутируемая телефонная сеть общего пользования. Проводная сеть, позволяющая осуществлять вызовы с использованием проводных и беспроводных технологий, а также получать доступ в Интернет). </p>
	<p>Выбор протоколов и портов назначения, применяемых в приложениях Интернет-телефонии, может меняться в зависимости от типа программного обеспечения.</p>

	<center><img src="./img/chapter2/2.52.jpg"></center>
	<p class="img">Рисунок 2.52 &ndash; Взаимодействие между голосовыми клиентам</p>

    <a name="ch2.7"></a>
	<p class="title">2.2.7 Номера портов</p>

	<p>DNS, Web, Email, FTP, IM и VoIP – это лишь некоторые из многочисленных служб, доступных в клиент-серверных системах через сеть Интернет. Эти службы могут быть доступны с одного или нескольких серверов.</p>
	<p>В любом случае серверу необходимо знать, какая услуга запрашивается клиентом. Это позволяет идентифицировать запросы от клиентов, так как запрос затем направляется на определенный порт назначения. Клиентскому приложению присваивается предварительно заданный порт назначения, зарегистрированный в сети Интернет для каждой службы.</p>
	<p>Порты подразделяются на три категории и нумеруются в диапазоне от 1 до 65535. За присвоение портов и управление ими отвечает Internet Corporation for Assigned Names and Numbers (ICANN).</p>
	<ol>
		<li>Известные порты. Порты назначения, ассоциированные с общими сетевыми приложениями, называются известными портами. Диапазон номеров этих портов – от 1 до 1023. </li>
		<li>Зарегистрированные порты. Порты с номерами от 1024 до 49151 могут использоваться в качестве портов источника и назначения. Эти номера используются организациями для регистрации отдельных приложений, например, программ мгновенного обмена сообщениями.</li>
		<li>Частные порты. Порты с 49152 по 65535 часто используются в качестве портов источника. Эти порты могут использоваться любым приложением.</li>
	</ol>
	<p>В таблице показаны некоторые из самых распространенных известных портов.</p>

	<center><img src="./img/chapter2/2.53.jpg"></center>
	<p class="img">Рисунок 2.53 &ndash; Номера портов протоколов стека TCP/IP</p>

    <a name="ch3"></a>
	<p class="title">2.3 Многоуровневая модель и протоколы</p>
    <a name="ch3.1"></a>
	<p class="title">2.3.1 Взаимодействие протоколов</p>

	<p>Для успешного взаимодействия между узлами необходимо эффективное взаимодействие целого ряда протоколов. Эти протоколы реализованы на уровне оборудования и программного обеспечения каждого сетевого устройства.</p>
	<p>Взаимодействие между протоколами можно представить в виде стека протоколов. Протоколы в стеке представляют собой многоуровневую иерархию, в которой протокол верхнего уровня зависит от служб протоколов на более низких уровнях.</p>
	<p>На изображении показан стек протоколов с набором первичных протоколов, необходимых для запуска веб-сервера по сети Ethernet. Нижние уровни стека отвечают за перемещение данных по сети и предоставление служб верхним уровням. Верхние уровни в большей степени отвечают за наполнение пересылаемых сообщений и пользовательский интерфейс.</p>

	<center><img src="./img/chapter2/2.54.jpg"></center>
	<p class="img">Рисунок 2.54 &ndash; Стек протоколов с набором первичных протоколов, необходимых для запуска веб-сервера</p>

	<p>Для описания взаимодействий между различными протоколами обычно применяют многоуровневую модель. Многоуровневая модель описывает взаимодействие протоколов внутри каждого уровня, а также взаимодействие с верхними и нижними уровнями.</p>
	<p>Многоуровневая модель имеет ряд преимуществ:</p>
	<ul type="square">
		<li>она упрощает разработку протоколов, так как протоколы, работающие на определенном уровне, определяют формат обрабатываемых данных и предоставляют интерфейс к верхним и нижним уровням;</li>
		<li>заставляет поставщиков конкурирующих продуктов создавать унифицированные решения;</li>
		<li>исключает возможности изменения технологий или функций одного уровня без учета последствий для верхних и нижних уровней;</li>
		<li>предоставляет общий язык для описания функций сетевого взаимодействия.</li>
	</ul>
	<p>Первая многоуровневая эталонная модель межсетевого взаимодействия была создана в начале 70-х годов и называется моделью сети Интернет. В ней определены четыре обязательных категории функций, необходимых для успешного взаимодействия. Архитектура протоколов TCP/IP построена на основе этой модели. Поэтому модель сети Интернет обычно называют моделью TCP/IP (многоуровневое абстрактное описание структуры протоколов сетей связи и компьютерных сетей) [4].</p>

	<center><img src="./img/chapter2/2.55.jpg"></center>
	<p class="img">Рисунок 2.55 &ndash; Уровни стека TCP/IP</p>

    <a name="ch3.2"></a>
	<p class="title">2.3.2 Взаимодействие протоколов</p>

	<p>При отправке сообщения по сети стек протоколов на узле работает от верхнего уровня к нижнему. В этом примере веб-сервера обозреватель на стороне клиента направляет веб-серверу запрос на веб-страницу через порт назначения 80. Начинается процесс отправки веб-страницы клиенту.</p>
	<p>При отправке веб-страницы по стеку протоколов веб-сервера данные приложения разбиваются на TCP-сегменты. Каждому сегменту TCP присваивается заголовок, в котором указывается номера портов источника и назначения.</p>
	<p>Сегмент TCP инкапсулирует протокол HTTP и пользовательские данные веб-страницы в формате HTML и передает их на следующий уровень протоколов, то есть в IP. Здесь сегмент TCP инкапсулируется в пакете IP, и к нему добавляется заголовок IP. В заголовке IP указываются IP-адреса источника и назначения.</p>
	<p>Далее этот пакет IP передается протоколу Ethernet, где он инкапсулируется в заголовок кадра и в концевую метку (управляющая информация, следующая после данных при инкапсуляции для передачи по сети). В каждом заголовке кадра Ethernet указываются MAC-адреса источника и назначения. В концевой метке указывается информация для проверки ошибок. Наконец, биты кодируются в среду передачи по Ethernet (медный или оптоволоконный кабель) интерфейсной платой сервера.</p>

	<center><img src="./img/chapter2/2.56.jpg"></center>
	<p class="img">Рисунок 2.56 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 1</p>
	<center><img src="./img/chapter2/2.57.jpg"></center>
	<p class="img">Рисунок 2.57 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 2</p>
	<center><img src="./img/chapter2/2.58.jpg"></center>
	<p class="img">Рисунок 2.58 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 3</p>
	<center><img src="./img/chapter2/2.59.jpg"></center>
	<p class="img">Рисунок 2.59 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 4</p>
	<center><img src="./img/chapter2/2.60.jpg"></center>
	<p class="img">Рисунок 2.60 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 5</p>
	<center><img src="./img/chapter2/2.61.jpg"></center>
	<p class="img">Рисунок 2.61 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 6</p>
	<center><img src="./img/chapter2/2.62.jpg"></center>
	<p class="img">Рисунок 2.62 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 7</p>
	<center><img src="./img/chapter2/2.63.jpg"></center>
	<p class="img">Рисунок 2.63 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 8</p>
	<center><img src="./img/chapter2/2.64.jpg"></center>
	<p class="img">Рисунок 2.64 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 9</p>
	<center><img src="./img/chapter2/2.65.jpg"></center>
	<p class="img">Рисунок 2.65 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 10</p>
	<center><img src="./img/chapter2/2.66.jpg"></center>
	<p class="img">Рисунок 2.66 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 11</p>
	<center><img src="./img/chapter2/2.67.jpg"></center>
	<p class="img">Рисунок 2.67 &ndash; Процесс инкапсуляции данных при отправке сообщения другому узлу. Часть 12</p>

    <p>При приеме сообщений из сети стек протоколов на узле работает с нижнего уровня к верхнему. До этого был представлен процесс инкапсуляции на каждом уровне во время отправки веб-страницы от веб-сервера к клиенту. При приеме веб-страницы начинается деинкапсуляция сообщения клиентом.</p>
    <p>Выполняется декодирование битов интерфейсной платой на стороне клиента, а MAC-адрес назначения определяется клиентом как свой собственный.</p>
    <p>Кадр передается по стеку протоколов веб-клиента, где заголовок Ethernet (MAC-адреса источника и назначения) и концевая метка удаляются (деинкапсулируются). Остальной пакет IP и содержимое передаются на уровень IP.</p>
    <p>На уровне IP заголовок IP (IP-адреса источника и назначения) удаляется, и содержимое передается на уровень TCP.На уровне TCP заголовок TCP (порты источника и назначения) удаляется, а содержимое пользовательской веб-страницы передается в приложение обозревателя по протоколу HTTP. После приема сегментов TCP выполняется их повторная сборка и формируется исходный вид веб-страницы.</p>

    <center><img src="./img/chapter2/2.68.jpg"></center>
	<p class="img">Рисунок 2.68 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 1</p>
    <center><img src="./img/chapter2/2.69.jpg"></center>
	<p class="img">Рисунок 2.69 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 2</p>
    <center><img src="./img/chapter2/2.70.jpg"></center>
	<p class="img">Рисунок 2.70 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 3</p>
    <center><img src="./img/chapter2/2.71.jpg"></center>
	<p class="img">Рисунок 2.71 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 4</p>
    <center><img src="./img/chapter2/2.72.jpg"></center>
	<p class="img">Рисунок 2.72 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 5</p>
    <center><img src="./img/chapter2/2.73.jpg"></center>
	<p class="img">Рисунок 2.73 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 6</p>
    <center><img src="./img/chapter2/2.74.jpg"></center>
	<p class="img">Рисунок 2.74 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 7</p>
    <center><img src="./img/chapter2/2.75.jpg"></center>
	<p class="img">Рисунок 2.75 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 8</p>
    <center><img src="./img/chapter2/2.76.jpg"></center>
	<p class="img">Рисунок 2.76 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 9</p>
    <center><img src="./img/chapter2/2.77.jpg"></center>
	<p class="img">Рисунок 2.77 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 10</p>
    <center><img src="./img/chapter2/2.78.jpg"></center>
	<p class="img">Рисунок 2.78 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 11</p>
    <center><img src="./img/chapter2/2.79.jpg"></center>
	<p class="img">Рисунок 2.79 &ndash; Процесс деинкапсуляции данных при получении сообщения от другого узла. Часть 12</p>


    <a name="ch4"></a>
    <p class="title">2.4 Модель открытых систем ISO/OSI</p>
    <a name="ch4.1"></a>
    <p class="title">2.4.1 Уровни модели OSI</p>

    <p>Модель взаимодействия открытых систем была разработана Международной Организацией по Стандартизации (ISO) в 1984 году. В отличие от модели TCP/IP, она не описывает взаимодействий между отдельными протоколами. Она была создана в качестве базовой архитектуры, которую разработчики использовали для создания протоколов сетевого взаимодействия. Хотя в очень немногих стеках протоколов в точности реализованы все семь уровней модели взаимодействия открытых систем, на сегодня она считается эталонной моделью межкомпьютерных взаимодействий.</p>
    <p>В модели OSI представлены все функции или задачи, ассоциированные с межсетевыми взаимодействиями, а не только с определенными протоколами TCP/IP. В отличие от модели TCP/IP, в которой представлено только четыре уровня, модель OSI организует задачи в семь более специфических групп. Задача или группа задач присваивается каждому из семи уровней модели OSI.</p>
    <p>Суть стека протоколов заключается в разделении и организации наиболее значимых функций. Разделение функций обеспечивает независимое функционирование каждого уровня в стеке. Например, доступ на веб-сайт возможен как с портативного компьютера, подключенного к домашнему модему, так и с портативного компьютера с помощью беспроводного или мобильного телефона с поддержкой функций беспроводного доступа. Нижние уровни не влияют на эффективность работы прикладного уровня.</p>
    <p>Точно так же нижние уровни не зависят от других уровней. Например, на скорость соединения с Интернет не влияет одновременный запуск нескольких приложений, таких, например, как электронная почта, просмотр веб-страниц, мгновенный обмен сообщениями и загрузка музыкальных файлов.</p>
    <p>Модель OSI описывает функции семи иерархических уровней:</p>
    <ul type="square">
        <li>Прикладной уровень.</li>
        <li>Уровень представления.</li>
        <li>Сеансовый уровень.</li>
        <li>Транспортный уровень.</li>
        <li>Сетевой уровень.</li>
        <li>Канальный уровень.</li>
        <li>Физический уровень.</li>
    </ul>

    <center><img src="./img/chapter2/2.80.jpg"></center>
	<p class="img">Рисунок 2.80 &ndash; Модель ISO/OSI</p>

    <p>Ниже описаны уровни модели OSI, которые выполняют следующие функции.</p>
    <p>7 Прикладной уровень:</p>
    <ul type="square">
        <li>Определяет интерфейсы между прикладными ПО и коммутационными сетевыми функциями.</li>
        <li>Предоставляет стандартизированные услуги, такие как передача файлов между системами.</li>
    </ul>
    <p>6 Уровень представления:</p>
    <ul type="square">
        <li>Осуществляет стандартизацию форматов данных пользователей для использования между различными типами систем.</li>
        <li>Кодирует и декодирует данные пользователей, шифрует и расшифровывает данные, сжимает и распаковывает данные.</li>
    </ul>
    <p>5 Сеансовый уровень:</p>
    <ul type="square">
        <li>Управляет сеансами и диалогами пользователей.</li>
        <li>Поддерживает логические связи между системами.</li>
    </ul>
    <p>4 Транспортный уровень:</p>
    <ul type="square">
        <li>Управляет сквозной доставкой сообщений через сети.</li>
        <li>Может обеспечивать надежную и последовательную доставку пакетов с помощью механизмов восстановления после ошибок и управления потоками.</li>
    </ul>
    <p>3 Сетевой уровень:</p>
    <ul type="square">
        <li>Осуществляет маршрутизацию пакетов в соответствии с уникальными адресами сетевых устройств.</li>
    </ul>
    <p>2 Канальный уровень:</p>
    <ul type="square">
        <li>Определяет процедуры для работы с каналами связи.</li>
        <li>Обнаруживает и исправляет кадры с ошибками передачи.</li>
    </ul>
    <p>1 Физический уровень:</p>
    <ul type="square">
        <li>Определяет физические средства отправки данных через сетевые устройства.</li>
        <li>Обеспечивает интерфейс между сетевой средой и устройствами.</li>
        <li>Определяет оптические, электрические и механические характеристики.</li>
    </ul>

    <center><img src="./img/chapter2/2.81.jpg"></center>
	<p class="img">Рисунок 2.81 &ndash; Модель ISO/OSI. Прикладной уровень</p>
    <center><img src="./img/chapter2/2.82.jpg"></center>
	<p class="img">Рисунок 2.82 &ndash; Модель ISO/OSI. Уровень представления</p>
    <center><img src="./img/chapter2/2.83.jpg"></center>
	<p class="img">Рисунок 2.83 &ndash; Модель ISO/OSI. Сеансовый уровень</p>
    <center><img src="./img/chapter2/2.84.jpg"></center>
	<p class="img">Рисунок 2.84 &ndash; Модель ISO/OSI. Транспортный уровень</p>
    <center><img src="./img/chapter2/2.85.jpg"></center>
	<p class="img">Рисунок 2.85 &ndash; Модель ISO/OSI. Сетевой уровень</p>
    <center><img src="./img/chapter2/2.86.jpg"></center>
	<p class="img">Рисунок 2.86 &ndash; Модель ISO/OSI. Канальный уровень</p>
    <center><img src="./img/chapter2/2.87.jpg"></center>
	<p class="img">Рисунок 2.87 &ndash; Модель ISO/OSI. Физический уровень</p>

    <p>При передаче данных между двумя узлами используются протокольные блоки данных (PDUs), которые содержат представления кадров трафика сети и отображения информации о стеках протоколов на соответствующих уровнях модели OSI.</p>
    <p>Как видно на изображении, запрос от веб-клиента принимается платой Ethernet NIC на веб-сервере. В модели взаимодействия открытых систем представлены следующие 4 уровня с 1 по 4.</p>
    <p>Уровень 1 (физический): порт Fast Ethernet.</p>
    <p>Уровень 2 (канальный): MAC-адреса Ethernet.</p>
    <p>Уровень 3 (сетевой): IP-адреса.</p>
    <p>Уровень 4 (транспортный): номера портов TCP.</p>

    <center><img src="./img/chapter2/2.88.jpg"></center>
	<p class="img">Рисунок 2.88 &ndash; Структура заголовка пакета</p>


    <a name="ch4.2"></a>
    <p class="title">2.4.2 Протоколы модели OSI</p>
    <p>Семь уровней модели OSI можно разделить на две группы: верхние и нижние уровни.</p>
    <p>Верхними уровнями часто называют все, что находится выше уровня передачи модели OSI. Верхние уровни относятся к работе приложений и обычно реализуются только в программном обеспечении. Наивысший уровень, называемый прикладным уровнем, находится ближе всего к конечному пользователю. Прикладной уровень – седьмой уровень эталонной модели OSI, на котором обеспечивается работа процессов приложений, например таки, как электронная почта, передача файлов и эмуляция терминалов, находящихся за пределами модели OSI. На прикладном уровне определяется и устанавливается и устанавливается доступность ресурсов, необходимых для подключения к имеющимся коммуникационным партнерам. На нем устанавливается соглашение о процедурах восстановления при появлении ошибок и управления целостностью данных. Прикладной уровень непосредственно взаимодействует с процессами прикладных программ и реализует общие функции для прикладных программ.</p>
    <p>Термин “нижний уровень” иногда используется применительно к любому уровню, лежащему ниже сеансового уровня. Совместное функционирование нижних уровней обеспечивает передачу данных. Физический уровень и уровень канала данных реализуются в аппаратном и программном обеспечении. Физический уровень ближе всего к физической среде передачи, или сетевым кабелям. Физический слой фактически помещает информацию в среду.</p>
    <p>Конечные станции, например, клиенты и серверы, обычно работают на всех семи уровнях. Сетевые устройства работают только на нижних слоях. Концентраторы - это уровень 1, коммутаторы - уровни 1 и 2, маршрутизаторы - уровни 1, 2 и 3 и межсетевые экраны - уровни 1, 2, 3 и 4.</p>

    <center><img src="./img/chapter2/2.89.jpg"></center>
	<p class="img">Рисунок 2.89 &ndash; Сетевые компоненты и протоколы верхних и нижних уровней модели OSI</p>

    <a name="ch4.3"></a>
    <p class="title">2.4.3 Технологии модели OSI</p>
    <p>Важно понимать, какие функции выполняются на каждом уровне модели OSI и какая информация о сети доступна устройствам или программам, выполняющим эти функции. Например, в передаче сообщения электронной почты от клиента серверу задействовано много процессов. Модель OSI разделяет задачи на более мелкие отдельные шаги, соответствующие семи уровням. Далее представлен пример описывающий  использование модели OSI для отправки и получения электронной почты.</p>
    <p>Шаг 1. На верхних уровнях создаются данные.</p>
    <p>Когда пользователь отправляет сообщение, алфавитно-цифровые символы (набор символов, содержащий буквы цифры) этого сообщения преобразуются в данные, которые можно передать по сети. Уровни 7, 6 и 5 отвечают за преобразование сообщения в формат, который воспринимает приложение, установленное на узле назначения. Этот процесс называется кодированием (процесс преобразования последовательности символов – букв, цифр, знаков препинания и т.п., в особый формат для эффективной передачи или хранения). Далее верхние уровни отправляют кодированные сообщения нижним для передачи по сети. При передаче сообщения на нужный сервер используются данные конфигурации, предоставленные пользователем. Проблемы, возникающие на уровне приложений, часто бывают связаны с ошибками в настройке пользовательских программ.</p>

    <center><img src="./img/chapter2/2.90.jpg"></center>
	<p class="img">Рисунок 2.90 &ndash; Работа на верхних уровнях модели OSI (5-7 уровни)</p>

    <p>Шаг 2. На уровне 4 данные упаковываются для передачи.</p>
    <p>Данные, из которых состоит сообщение электронной почты, упаковываются для передачи по сети на уровне 4. Здесь сообщение разбивается на более мелкие сегменты. К каждому сегменту (1- часть сети, которая ограничена мостами, маршрутизаторами или коммутаторами; 2 – непрерывная электрическая цепь в локальной сети, использующая шинную топологию, часто подключенная к другим сегментами с помощью повторителей; 3 – термин, которым в спецификации TCP обозначается отдельный блок информации на транспортном уровне. Термины “датаграмма”, “кадр”, “сообщение” и “пакет” также используется при описании групп логической информации различных уровней эталонной модели OSI, а также в различных технологических кругах) добавляется заголовок с указанием номера порта (идентификатор процесса на компьютере с протоколом TCP или UDP) TCP (протокол управления передачей данных. Основной стандарт доставки данных. Протокол TCP предусматривает сквозное установление соединения, обнаружение и исправление ошибок и измерение скорости передачи данных по сети. На базе TCP основаны многие стандартные приложения: электронная почта, браузеры, ПО для передачи файлов и Telnet) или UDP (протокол передачи датаграмм пользователя. Протокол передачи данных без установления связи в стеке протокола TCP/IP. UDP – несложный протокол для обмена данными без подтверждения или гарантии доставки. Это услуга соединения для получения данных с меньшей нагрузкой по сравнению с TCP, разработанная для повышения скорости. Приложения управления сетью, сетевые файловые системы и протокол простой передачи файлов используют UDP),  соответствующего нужному приложению на прикладном уровне. Функции уровня передачи указывают тип службы доставки. Электронная почта использует сегменты TCP, так что доставка пакета по назначению подтверждается. Функции уровня 4 реализуются на уровне программы, которая запущена на узле источника и назначения. Однако, поскольку в межсетевых экранах для фильтрации трафика часто используются номера портов TCP и UDP, возникающие на уровне 4 проблемы могут быть вызваны неправильной настройкой списков фильтрации в межсетевом экране.</p>
    <p>Шаг 3. На уровне 3 добавляется информация об IP-адресе сети.</p>
    <p>Данные электронной почты, полученные с уровня передачи, помещаются в пакет с заголовком, где указаны IP-адреса источника и адресата. Маршрутизаторы направляют пакеты адресату по соответствующему пути. Неправильно настроенный IP-адрес источника или адресата может вызвать проблемы на уровне 3. Поскольку маршрутизаторы тоже используют IP-адреса, проблемы могут быть вызваны и неправильной настойкой этих устройств [1].</p>

    <center><img src="./img/chapter2/2.91.jpg"></center>
	<p class="img">Рисунок 2.91 &ndash; Работа на средних уровнях модели OSI (3-4 уровни)</p>

    <p>Шаг 4. На уровне 2 добавляется заголовок уровня канала данных и концевая метка.</p>
    <p>Каждое сетевое устройство, находящееся на пути от источника к адресату (в том числе и узел-отправитель), помещает пакет в кадр. В кадре находится физический адрес следующего непосредственно подключенного сетевого устройства канала. Для подключения к следующему устройству каждому устройству на выбранном сетевом пути нужны кадры. Коммутаторы и сетевые адаптеры используют данные кадра для доставки сообщения адресату. Неправильно выбранные драйверы сетевых адаптеров, интерфейсные платы или неполадки аппаратного обеспечения коммутаторов могут вызвать проблемы на уровне 2.</p>
    <p>Шаг 5. На уровне 1 данные преобразуются в биты для передачи.</p>
    <p>Для передачи по каналу кадр превращается в последовательность единиц и нулей (бит). Функция синхронизации позволяет устройствам разделять эти биты в процессе передачи. На пути от источника к адресату среда может меняться. Например, сообщение электронной почты может появиться в ЛВС Ethernet, пересечь оптоволоконную магистраль, последовательный канал сети WAN (глобальная сеть. Сеть обмена данными, обслуживающая пользователей на обширной географической территории и зачастую использующая передающее оборудование обычных операторов связи. Примерами технологий глобальных сетей являются сети Frame Relay, SMDS и X.25) и, наконец, попасть в другую удаленную ЛВС Ethernet. Проблемы на уровне 1 могут быть связаны с плохо подключенными или неправильно выбранными кабелями, неработающими интерфейсными платами или электрическими помехами.</p>
    <p>При поступлении на узел назначения процессы 1 - 5 выполняются в обратном порядке. Сообщение проходит все уровни снизу вверх и отображается в соответствующем приложении.</p>

    <center><img src="./img/chapter2/2.92.jpg"></center>
	<p class="img">Рисунок 2.92 &ndash; Работа на нижних уровнях модели OSI (1-2 уровни)</p>


    <a name="ch5"></a>
    <p class="title">2.5 Поиск и устранение неисправностей с помощью модели OSI</p>
    <a name="ch5.1"></a>
    <p class="title">2.5.1 Функции уровней модели OSI при поиске неисправностей</p>

    <p>Будучи теоретической моделью, модель OSI определяет протоколы, аппаратное обеспечение и другие спецификации применительно к семи уровням.</p>
    <p>Модель OSI можно использовать как систематическую основу для поиска и устранения неисправностей в сети. При любом сценарии поиска и устранения неисправности базовая процедура решения проблем состоит из следующих шагов:</p>
    <p>1 Определение проблемы.</p>
    <p>2 Выявление причины неисправности.</p>
    <p>3 Устранение неисправности.</p>
    <p>4 Поиск и классификация альтернативных решений.</p>
    <p>5 Выберите одно из альтернативных решений.</p>
    <p>6 Используйте это решение.</p>
    <p>7 Оцените это решение.</p>

    <p>Помимо процедур устранения основных неполадок, модель OSI можно использовать и как руководство по поиску и устранению неисправностей. При использовании уровневой модели возможны три различных подхода к поиску и устранению неисправности, которые технический специалист может использовать для локализации проблемы:</p>
    <p>1 Восходящий метод - выявление неисправностей сети в восходящем порядке начинается с физических компонентов сети и заканчивается верхними уровнями модели OSI. Выявление неисправностей сети в восходящем порядке эффективно в тех случаях, когда есть подозрение, что неисправность произошла на физическом уровне.</p>
    <p>2 Нисходящий метод - выявление неисправностей сети в нисходящем порядке начинается с пользовательских приложений и заканчивается нижними уровнями модели OSI. Этот подход базируется на предположении, что проблема связана с приложением, а не с сетевой инфраструктурой.</p>
    <p>3 Метод “Разделяй и властвуй” - метод “разделяй и властвуй” обычно используется более опытными специалистами по сетям. Такой специалист определяет предполагаемый уровень, ответственный за неисправность, и затем, в зависимости от получаемых результатов, движется вверх или вниз по уровням OSI.</p>
    <p>Опираясь на модель OSI можно определить проблему и найти ее причину [5].</p>

    <center><img src="./img/chapter2/2.93.jpg"></center>
	<p class="img">Рисунок 2.93 &ndash; Поиск неисправностей согласно уровням модели OSI</p>

    <p>Эталонная модель OSI – это общий язык для сетевых специалистов и инженеров. Важно иметь четкое представление о функциях и сетевых устройствах, задействованных на каждом уровне модели OSI.</p>
    <p>Верхние уровни (5 – 7) относятся к работе приложений и обычно реализуются только на программном уровне. Проблемы, локализованные на этих уровнях, зачастую вызваны ошибками конфигурации оконечного программного обеспечения на клиентах и серверах.</p>
    <p>Нижние уровни (1 – 4) в модели OSI решают задачи доставки данных.</p>
    <p>Сетевой уровень (уровень 3) и транспортный уровень (уровень 4), как правило, реализуются только на программном уровне. В дополнение к программным ошибкам на оконечных системах, ошибки конфигурации ПО на маршрутизаторах и межсетевых экранах оказываются причиной множества проблем, локализованных на этих уровнях. На уровне 3 могут иметь место ошибки с IP-адресацией и маршрутизацией.</p>
    <p>Физический уровень (уровень 1) и канальный уровень (уровень 2) реализуются и аппаратно, и программно. Физический уровень наиболее близок к физической передающей среде, примером которой являются сетевые кабели, и отвечает за непосредственное помещение информации в среду. Большинство проблем на уровнях 1 и 2 вызывается неисправностью и несовместимостью оборудования.</p>

    <center><img src="./img/chapter2/2.94.jpg"></center>
	<p class="img">Рисунок 2.94 &ndash; Сетевые устройства, задействованные на уровнях модели OSI</p>
    <center><img src="./img/chapter2/2.95.jpg"></center>
	<p class="img">Рисунок 2.95 &ndash; Сетевые устройства, задействованные на уровнях модели OSI. Оконечная система</p>
    <center><img src="./img/chapter2/2.96.jpg"></center>
	<p class="img">Рисунок 2.96 &ndash; Сетевые устройства, задействованные на уровнях модели OSI. Концентратор</p>
    <center><img src="./img/chapter2/2.97.jpg"></center>
	<p class="img">Рисунок 2.97 &ndash; Сетевые устройства, задействованные на уровнях модели OSI. Стандартный коммутатор</p>
    <center><img src="./img/chapter2/2.98.jpg"></center>
	<p class="img">Рисунок 2.98 &ndash; Сетевые устройства, задействованные на уровнях модели OSI.  Межсетевой экран</p>
    <center><img src="./img/chapter2/2.99.jpg"></center>
	<p class="img">Рисунок 2.99 &ndash; Сетевые устройства, задействованные на уровнях модели OSI. Маршрутизатор</p>

    <a name="ch5.2"></a>
    <p class="title">2.5.2 Методики устранения неисправностей</p>
    <p>При использовании сетевых моделей существует три основных метода устранения неисправностей:</p>
    <ul type="square">
        <li>сверху вниз;</li>
        <li>снизу вверх;</li>
        <li>"разделяй и властвуй".</li>
    </ul>
    <p>Каждый метод исходит из многоуровневого строения сетей. Используя один из этих методов, можно последовательно проверить работоспособность всех функций на каждом уровне, пока проблема не будет локализована.</p>
    <p>"Сверху вниз" – движение вниз с прикладного уровня. Проблема исследуется с точки зрения пользователя и приложения. Не работает только одно приложение или все приложения? Например, может ли пользователь при недоступности электронной почты обращаться к веб-страницам? Проявляются ли подобные явления на других рабочих станциях?</p>
    <p>"Снизу вверх" – движение с физического уровня к более высоким. На физическом уровне обследуются оборудование и проводные соединения. Надежно ли подключены кабели. Если оборудование снабжено индикаторами, горят ли индикаторы.</p>
    <p>"Разделяй и властвуй" – анализ обычно начинается с одного из промежуточных уровней, после чего обследуются вышестоящие или нижестоящие уровни. Например, диагностику можно начать с сетевого уровня, проверив конфигурацию IP.</p>
    <p>Благодаря своей структуре рассмотренные методы диагностики весьма удобны для начинающих. Многие опытные специалисты часто предпочитают структурированным подходам собственную интуицию и опыт.</p>

    <center><img src="./img/chapter2/2.100.jpg"></center>
    <p class="img">Рисунок 2.100 &ndash; Методики диагностики неисправностей. 1 уровень</p>
    <center><img src="./img/chapter2/2.101.jpg"></center>
	<p class="img">Рисунок 2.101 &ndash; Методики диагностики неисправностей. 2-4 уровни</p>
    <center><img src="./img/chapter2/2.102.jpg"></center>
	<p class="img">Рисунок 2.102 &ndash; Методики диагностики неисправностей. 5-7 уровни</p>

    <p>1 Устранение неполадок на уровне 1. Технический специалист начинает с уровня 1. Следует помнить, что уровень 1 относится к физическому подключению сетевых устройств. Часто неполадки уровня 1 связаны с кабелями и электропитанием. Они являются причиной многих звонков в службу поддержки. В частности, регулярно встречаются следующие неполадки уровня 1:</p>
    <ul type="square">
        <li>отключено питание устройства;</li>
        <li>шнур питания вынут из розетки;</li>
        <li>ослабло соединение сетевого кабеля;</li>
        <li>неверно выбран тип кабеля;</li>
        <li>неисправен сетевой кабель;</li>
        <li>неисправная точка беспроводного доступа;</li>
        <li>неверные настройки беспроводного соединения, например, SSID.</li>
    </ul>
    <p>Для устранения неисправности на уровне 1, прежде всего, убедитесь, что ко всем устройствам подведено нужное электропитание, и что все они включены. Хотя такая ситуация выглядит очевидной, клиенты, сообщающие о проблеме, регулярно забывают об устройстве, которое находится на пути от источника к адресату. При наличии СИД, отображающих статус подключения, нужно попросить клиента их проверить. Если вы находитесь на предприятии клиента, просмотрите все сетевые кабели и переподключите их, чтобы быть уверенным в надежном соединении. Если проблема связана с беспроводным соединением, убедитесь, что точка беспроводного доступа находится в рабочем состоянии, и что настройки беспроводного доступа выполнены корректно.</p>
    <p>При удаленных консультациях специалист должен на каждом шаге  подсказать клиенту, на что обратить внимание, и что нужно сделать при обнаружении неполадки. Если все возможные источники неполадки на уровне 1 проверены, переходите к уровню 2 модели OSI.</p>

    <center><img src="./img/chapter2/2.103.jpg"></center>
	<p class="img">Рисунок 2.103 &ndash; Поиск неполадок на 1 уровне</p>

    <p>2 Устранение неполадок на уровне 2. На уровне 2 работают сетевые коммутаторы и адаптеры узлов. На этом уровне неполадки может вызвать неисправное оборудование, неправильно выбранные драйверы или неправильно настроенные коммутаторы. Удаленно решить проблему уровня 2 бывает сложно.</p>
    <p>Правильность установки и работы сетевого адаптера может проверить местный технический специалист. Проблему поможет решить переключение сетевого адаптера или замена возможно неисправного адаптера исправным. Тот же процесс можно применить в отношении любого сетевого коммутатора.</p>
    <p>Устранение неполадок на уровне 3. На уровне 3 техническому специалисту нужно проверить систему логической адресации в сети, например, схему IP-адресов. Если в сети используется IP-адресация, техническому специалисту рекомендуется проверить настройки устройства, например:</p>
    <ul type="square">
        <li>находятся ли IP-адреса в соответствующей сети;</li>
        <li>правильно ли выбрана маска подсети (32-битовая маска адреса в протоколе IP, обозначающая число битов IP-адреса, отведенных под адрес подсети. Маска подсети определяет сетевую часть, часть подсети и часть узла в IP-адресе);</li>
        <li>правильно ли выбран шлюз по умолчанию;</li>
        <li>прочие необходимые настройки, такие как DHCP (протокол динамической конфигурации сетевого узла. Стандарт, используемый программным обеспечением, которое запрашивает и присваивает IP-адреса DNS-сервера сетевому узлу. DHCP-сервер выделяет IP-адрес для узла динамически, что позволяет повторно использовать ранее назначенный адрес после того, как он больше не нужен узлу) или DNS.</li>
    </ul>
    <p>В процессе устранения неполадок на уровне 3 следует использовать несколько сетевых средств. Назовем три наиболее распространенных инструмента, вызываемых из командной строки:</p>
    <ul type="square">
        <li>ipconfig - отображает IP-настройки стека протоколов TCP/IP компьютера;</li>
        <li>ping - тестирует основные соединения в сети;</li>
        <li>traceroute - определяет доступность пути между источником и адресатом.</li>
    </ul>
    <p>Обычно большинство проблем с сетью решаются с помощью технологий на уровнях 1, 2 и 3.</p>

    <center><img src="./img/chapter2/2.104.jpg"></center>
	<p class="img">Рисунок 2.104 &ndash; Поиск неисправностей на 3 уровне с помощью команд ipconfig и ping</p>
    <center><img src="./img/chapter2/2.105.jpg"></center>
	<p class="img">Рисунок 2.105 &ndash; Поиск неисправностей на 3 уровне с помощью команд traceroute</p>


    <p>3 Устранение неполадок на уровне 4. Если на уровнях 1 - 3 все работает нормально и ping IP-адреса удаленного сервера проходит нормально, нужно проверить верхние уровни. Например, если на пути установлен межсетевой экран, важно убедиться, что порт TCP или UDP открыт, и трафик к этому порту не заблокирован с помощью списка фильтрации.</p>
    <p>4 Устранение неполадок на уровнях 5 – 7. Техническому специалисту следует проверить конфигурацию приложения. Например, при устранении проблем с электронной почтой нужно убедиться, что в приложении введены правильные данные для отправки и получения почты. Кроме того, необходимо убедиться, что разрешение доменных имен функционирует нужным образом.</p>
    <p>Удаленные технические специалисты могут проверять верхние уровни с помощью других сетевых средств, например, анализатора пакетов, который позволяет просматривать сетевой трафик. Для просмотра конфигураций можно также использовать сетевые приложения, например, Telnet [5].</p>

    <center><img src="./img/chapter2/2.106.jpg"></center>
	<p class="img">Рисунок 2.106 &ndash; Поиск неисправностей на 5-7 уровнях</p>


    <a name="ch6"></a>
    <p class="title">2.6 Сравнение модели OSI и  стека TCP/IP</p>
    <p>Модели TCP/IP и OSI помимо многочисленных сходств имеют ряд различий.</p>
    <p>Сходства:</p>
    <ul type="square">
        <li>наглядное деление на уровни, отражающее взаимодействие протоколов и служб;</li>
        <li>сопоставимые транспортные и сетевые уровни;</li>
        <li>использование в задачах взаимодействия сетевых протоколов.</li>
    </ul>
    <p>Различия:</p>
    <ul type="square">
        <li>в модели OSI функции прикладного уровня TCP/IP поделены между несколькими различными уровнями. Все три верхних уровня модели OSI представляют те функции, которые в модели TCP/IP возложены на прикладной уровень;</li>
        <li>в семействе протоколов TCP/IP не указываются протоколы для физического соединения сетей. Два нижних уровня модели OSI связаны с доступом к физической сети и доставкой двоичных данных между узлами в локальной сети.</li>
    </ul>
    <p>Модель TCP/IP основана на фактически разработанных протоколах и стандартах, а модель OSI представляет собой лишь теоретическое руководство по принципам взаимодействия протоколов.</p>

    <center><img src="./img/chapter2/2.107.jpg"></center>
	<p class="img">Рисунок 2.107 &ndash; Соответствие уровней стека TCP/IP уровням модели OSI</p>

	<p class="title">Контрольные вопросы для закрепления изученного материала</p>
<ol>
	<li>Укажите, какие протоколы, используемые при взаимодействии клиентов и серверов?</li>
<li> Перечислите основный прикладные протоколы и службы.</li>
<li> Назовите основные уровни и протоколы модели ISO/OSI.</li>
<li> Укажите, как с помощью модели OSI реализовать поиск и устранение неисправностей в компьютерных сетях.</li>
<li>Проведите сравнение модели OSI и  стека TCP/IP.</li>
</ol>

</BODY>
</HTML>